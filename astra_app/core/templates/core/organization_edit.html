{% extends 'core/base.html' %}

{% block title %}Edit {{ organization.name }}{% endblock %}

{% block header %}
  <h1 class="h3">Edit {{ organization.name }}</h1>
{% endblock %}

{% block content %}
  <div class="card">
    <div class="card-body">
      <form method="post" enctype="multipart/form-data" novalidate>
        {% csrf_token %}

        {% if form.non_field_errors %}
          <div class="alert alert-danger">{{ form.non_field_errors }}</div>
        {% endif %}

        <div class="form-group">
          <label for="{{ form.name.id_for_label }}">{{ form.name.label }}</label>
          {{ form.name }}
          {% if form.name.errors %}<div class="text-danger">{{ form.name.errors }}</div>{% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.contact.id_for_label }}">{{ form.contact.label }}</label>
          {{ form.contact }}
          {% if form.contact.errors %}<div class="text-danger">{{ form.contact.errors }}</div>{% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.website.id_for_label }}">{{ form.website.label }}</label>
          {{ form.website }}
          {% if form.website.errors %}<div class="text-danger">{{ form.website.errors }}</div>{% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.logo.id_for_label }}">{{ form.logo.label }}</label>
          {{ form.logo }}
          {% if form.logo.errors %}<div class="text-danger">{{ form.logo.errors }}</div>{% endif %}
          {% if organization.logo %}
            <div class="mt-2">
              <a href="{{ organization.logo.url }}" rel="noopener noreferrer">Current logo</a>
            </div>
          {% endif %}
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
        <a class="btn btn-secondary" href="{% url 'organization-detail' organization.code %}">Cancel</a>
      </form>
    </div>
  </div>
{% endblock %}
