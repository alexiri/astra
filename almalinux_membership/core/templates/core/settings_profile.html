{% extends 'core/base.html' %}

{% block title %}Settings{% endblock %}

{% block header %}<h1 class="m-0">Settings</h1>{% endblock %}

{% block content %}
{% include 'core/_settings_tabs.html' %}
<div class="card mt-3">
  <form method="post" enctype="multipart/form-data" novalidate>
    {% csrf_token %}

    <div class="card-body">
      {% if form.non_field_errors %}
        <div class="alert alert-danger">{{ form.non_field_errors }}</div>
      {% endif %}

      <div class="form-group">
        {{ form.avatar.label_tag }}
        {{ form.avatar }}
        {% if form.avatar.errors %}<div class="invalid-feedback d-block">{{ form.avatar.errors }}</div>{% endif %}
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          {{ form.givenname.label_tag }}
          {{ form.givenname }}
          {% if form.givenname.errors %}<div class="invalid-feedback d-block">{{ form.givenname.errors }}</div>{% endif %}
        </div>
        <div class="form-group col-md-6">
          {{ form.sn.label_tag }}
          {{ form.sn }}
          {% if form.sn.errors %}<div class="invalid-feedback d-block">{{ form.sn.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="form-group">
        {{ form.fasPronoun.label_tag }}
        {{ form.fasPronoun }}
        {% if form.fasPronoun.errors %}<div class="invalid-feedback d-block">{{ form.fasPronoun.errors }}</div>{% endif %}
        {% if form.fasPronoun.help_text %}<small class="form-text text-muted">{{ form.fasPronoun.help_text }}</small>{% endif %}
        <datalist id="pronoun-options">
          <option value="she / her / hers"></option>
          <option value="he / him / his"></option>
          <option value="they / them / theirs"></option>
        </datalist>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          {{ form.fasLocale.label_tag }}
          {{ form.fasLocale }}
          {% if form.fasLocale.errors %}<div class="invalid-feedback d-block">{{ form.fasLocale.errors }}</div>{% endif %}
          {% if form.fasLocale.help_text %}<small class="form-text text-muted">{{ form.fasLocale.help_text }}</small>{% endif %}
        </div>
        <div class="form-group col-md-6">
          {{ form.fasTimezone.label_tag }}
          {{ form.fasTimezone }}
          {% if form.fasTimezone.errors %}<div class="invalid-feedback d-block">{{ form.fasTimezone.errors }}</div>{% endif %}
          {% if form.fasTimezone.help_text %}<small class="form-text text-muted">{{ form.fasTimezone.help_text }}</small>{% endif %}
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          {{ form.fasWebsiteUrl.label_tag }}
          {{ form.fasWebsiteUrl }}
          {% if form.fasWebsiteUrl.errors %}<div class="invalid-feedback d-block">{{ form.fasWebsiteUrl.errors }}</div>{% endif %}
          {% if form.fasWebsiteUrl.help_text %}<small class="form-text text-muted">{{ form.fasWebsiteUrl.help_text }}</small>{% endif %}
        </div>
        <div class="form-group col-md-6">
          {{ form.fasRssUrl.label_tag }}
          {{ form.fasRssUrl }}
          {% if form.fasRssUrl.errors %}<div class="invalid-feedback d-block">{{ form.fasRssUrl.errors }}</div>{% endif %}
          {% if form.fasRssUrl.help_text %}<small class="form-text text-muted">{{ form.fasRssUrl.help_text }}</small>{% endif %}
        </div>
      </div>

      <div class="form-group">
        <label>Chat Nicknames</label>
        <div class="form-row">
          <div class="form-group col-md-6">
            {{ form.fasIRCNick.label_tag }}
            {{ form.fasIRCNick }}
            {% if form.fasIRCNick.errors %}<div class="invalid-feedback d-block">{{ form.fasIRCNick.errors }}</div>{% endif %}
            {% if form.fasIRCNick.help_text %}<small class="form-text text-muted">{{ form.fasIRCNick.help_text }}</small>{% endif %}
          </div>
          <div class="form-group col-md-6">
            {{ form.fasMatrix.label_tag }}
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">@</span>
              </div>
              {{ form.fasMatrix }}
            </div>
            {% if form.fasMatrix.errors %}<div class="invalid-feedback d-block">{{ form.fasMatrix.errors }}</div>{% endif %}
            <small class="form-text text-muted">For Matrix: <code>username</code> or <code>username:server.name</code>.</small>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-6">
          {{ form.fasGitHubUsername.label_tag }}
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">@</span>
            </div>
            {{ form.fasGitHubUsername }}
          </div>
          {% if form.fasGitHubUsername.errors %}<div class="invalid-feedback d-block">{{ form.fasGitHubUsername.errors }}</div>{% endif %}
        </div>
        <div class="form-group col-md-6">
          {{ form.fasGitLabUsername.label_tag }}
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">@</span>
            </div>
            {{ form.fasGitLabUsername }}
          </div>
          {% if form.fasGitLabUsername.errors %}<div class="invalid-feedback d-block">{{ form.fasGitLabUsername.errors }}</div>{% endif %}
        </div>
      </div>

      <div class="form-group form-check">
        {{ form.fasIsPrivate }}
        <label class="form-check-label" for="{{ form.fasIsPrivate.id_for_label }}">{{ form.fasIsPrivate.label }} <small class="text-muted">Hide information from other users.</small></label>
        {% if form.fasIsPrivate.errors %}<div class="invalid-feedback d-block">{{ form.fasIsPrivate.errors }}</div>{% endif %}
      </div>
    </div>

    <div class="card-footer d-flex justify-content-end">
      <button type="submit" class="btn btn-primary">Save</button>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
  {{ block.super }}
{% endblock %}
